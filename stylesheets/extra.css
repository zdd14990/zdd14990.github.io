/* ==========================================================================
   极简本地播放器 (Simple Local Player)
   ========================================================================== */
/* ==========================================================================
   极简本地播放器 (固定版)
   ========================================================================== */

/* 1. 容器位置 (固定在右下角) */
.simple-player-floating {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 99999; 
}

/* 2. 按钮外观 */
.player-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    
    /* 居中图标 */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* 磨砂玻璃 */
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    
    /* 关键：鼠标放上去是手指形状，不再是十字箭头 */
    cursor: pointer; 
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.player-icon:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

.player-icon svg {
    stroke: #555;
    transition: stroke 0.3s;
}

/* 3. 暗色模式适配 */
[data-md-color-scheme="slate"] .player-icon {
    background: rgba(46, 48, 62, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
}
[data-md-color-scheme="slate"] .player-icon svg {
    stroke: #ddd;
}

/* 4. 旋转动画 */
.player-icon.playing {
    animation: rotate-player 3s linear infinite;
    border-color: #e67e96; 
}
.player-icon.playing svg {
    stroke: #e67e96;
}

@keyframes rotate-player {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* 5. 移动端适配 (稍微抬高，避免挡住底部操作条) */
@media (max-width: 768px) {
    .simple-player-floating {
        bottom: 80px;
        right: 15px;
    }
}
/* ==========================================================================
   2. 全局背景图 (核心修复)
   ========================================================================== */

/* 重要：路径 ../assets/ 指的是从 stylesheets 文件夹向上一级找到 assets 文件夹
   请确保文件名完全匹配
*/


/* ==========================================================================
   3. 磨砂玻璃容器 (让文字清晰)
   ========================================================================== */

/* 正文区域 */
.md-content {
    background-color: rgba(255, 255, 255, 0.85); /* 白色半透明 */
    border-radius: 16px; 
    padding: 20px;
    margin-top: 20px; margin-bottom: 20px;
    
    /* 磨砂滤镜 */
    backdrop-filter: blur(5px); 
    -webkit-backdrop-filter: blur(5px);
    
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
}

/* 侧边栏区域 */
.md-sidebar {
    background-color: rgba(255, 255, 255, 0.85);
    border-radius: 16px; padding: 10px; margin-top: 20px;
    backdrop-filter: blur(5px);
}

/* 暗色模式下的磨砂玻璃 (变为深色) */
[data-md-color-scheme="slate"] .md-content,
[data-md-color-scheme="slate"] .md-sidebar {
    background-color: rgba(30, 32, 48, 0.85); /* 深色半透明 */
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

/* 清除侧边栏内部默认背景 */
.md-sidebar__scrollwrap { background: transparent !important; }


/* ==========================================================================
   4. 首页名片卡 (保留左侧介绍，去除了右侧文章列表样式)
   ========================================================================== */


/* ==========================================================================
   5. 主题切换平滑过渡 (修复版 - 仅针对核心容器)
   ========================================================================== */

/* 只对 body、内容卡片、侧边栏、标题栏应用过渡 
   避免对所有 DOM 元素使用通配符 *
*/

.md-content, 
.md-sidebar, 
.md-header, 
.md-footer,
.md-nav {
    transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

/* 伪元素背景图过渡 (之前定义的) */
body::before, 
body::after {
    transition: opacity 0.6s ease-in-out;
}

/* SVG 图标填充色过渡 */
svg {
    transition: fill 0.3s ease, stroke 0.3s ease;
}

/* ==========================================================================
   背景图淡入淡出效果 (通过伪元素实现)
   ========================================================================== */

/* 核心：将 body 设为相对定位，为伪元素做准备 */
body {
    position: relative; /* 允许伪元素相对于 body 定位 */
    background: none !important; /* 清除 body 可能存在的其他背景色 */
    overflow-x: hidden; /* 防止背景图切换时出现横向滚动条 */
}

/* 伪元素基类：全屏覆盖，固定不动 */
body::before,
body::after {
    content: '';
    position: fixed; /* 固定在视口 */
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: -1; /* 确保背景在所有内容之下 */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    transition: opacity 0.6s ease-in-out; /* 淡入淡出过渡时间 */
    pointer-events: none; /* 确保不影响鼠标事件 */
}

/* body::before 用于亮色模式背景 */
body::before {
    background-image: url('../assets/site_bg_light.jpg'); /* 亮色背景图路径 */
    opacity: 1; /* 默认亮色模式显示 */
}

/* body::after 用于暗色模式背景 */
body::after {
    background-image: url('../assets/site_bg_dark.jpg'); /* 暗色背景图路径 */
    opacity: 0; /* 默认暗色模式隐藏 */
}

/* 当切换到暗色模式时 */
body[data-md-color-scheme="slate"]::before {
    opacity: 0; /* 亮色背景淡出 */
}

body[data-md-color-scheme="slate"]::after {
    opacity: 1; /* 暗色背景淡入 */
}